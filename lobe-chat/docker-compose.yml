services:
  lobe-chat:
    image: lobehub/lobe-chat:1.143.2
    restart: unless-stopped
    networks:
      - acepanel-network
    ports:
      - "${LOBE_CHAT_PORT_HTTP}:3210"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_PROXY_URL=${OPENAI_PROXY_URL}
      - ACCESS_CODE=${ACCESS_CODE}
      - OPENAI_MODEL_LIST=${OPENAI_MODEL_LIST}
    healthcheck:
      test: ["CMD-SHELL", "curl -fsSL http://localhost:3210 || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
networks:
  acepanel-network:
    external: true
